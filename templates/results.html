{% extends 'base.html' %}

{% block title %}
    Grades
{% endblock title%}

{% block content %}
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-success alert-dismissible fade show">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    <table class="table table-striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Grade</th>
            </tr>
        </thead>
        <tbody>
            {%  for student in students %}
                <tr>
                    <td>{{ student.id }}</td>
                    <td>{{ student.name }}</td>
                    <td>{{ student.grade }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <h2 class="mt-5">Update Records:</h2>
        <div class="student-form">
            <form method="POST" action="{{ url_for('update')}}">
                <div class="mb-3">
                    {{ form.name.label(class="form-label") }} {{ form.name }}
                    <ul>
                        {%  for error in form.name.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>
                <div class="mb-3">
                    {{ form.midterm1.label(class="form-label") }} {{ form.midterm1 }}
                     <ul>
                        {%  for error in form.midterm1.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>
                <div class="mb-3">
                    {{ form.midterm2.label(class="form-label") }} {{ form.midterm2 }}
                     <ul>
                        {%  for error in form.midterm2.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>
                <div class="mb-3">
                    {{ form.final.label(class="form-label") }} {{ form.final }}
                     <ul>
                        {%  for error in form.final.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>
                {{ form.submit }}

                {{  form.csrf_token }}
            </form>
        </div>


{% endblock content %}

{% block sidebar %}

{% endblock sidebar %}